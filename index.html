<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claymore by PD</title>
    <!-- Use Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f0fdfa; /* A light teal background */
        }

        /* Style for the active navigation link */
        .nav-link.active {
            font-weight: bold;
            color: #0f766e; /* Darker teal for active link */
            border-bottom: 2px solid #0f766e;
        }

        .quantity-control button {
            @apply bg-gray-200 text-gray-800 font-bold w-8 h-8 rounded-full flex items-center justify-center transition-colors duration-200;
        }

        .quantity-control button:hover {
            @apply bg-gray-300;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header and Navigation -->
    <header class="bg-white shadow-md p-4">
        <nav class="container mx-auto flex flex-col sm:flex-row justify-between items-center">
            <a href="#" onclick="showPage('products-page')" class="text-2xl font-bold text-gray-900 mb-4 sm:mb-0">Claymore by PD</a>
            <div class="space-x-4 flex items-center flex-wrap justify-center">
                <a href="#" onclick="showPage('products-page')" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200" data-lang-key="navProducts">Products</a>
                <a href="#" onclick="showPage('about-us-page')" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200" data-lang-key="navAbout">About Us</a>
                <a href="#" onclick="showPage('contact-us-page')" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200" data-lang-key="navContact">Contact Us</a>
                <!-- Cart Icon with Item Count -->
                <a href="#" onclick="showPage('cart-page')" class="relative nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200 ml-4">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13-.3 8.3m0 0a2 2 0 110-4 2 2 0 010 4zm16 0a2 2 0 110-4 2 2 0 010 4z"></path></svg>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center p-1">0</span>
                </a>
                <!-- Language Dropdown -->
                <select id="language-selector" class="bg-gray-100 rounded-lg py-1 px-2 text-sm">
                    <option value="en">EN</option>
                    <option value="sv">SV</option>
                </select>
            </div>
        </nav>
    </header>

    <!-- Main Content Area with Pages -->
    <main class="flex-grow flex items-start justify-center p-4 sm:p-8">
        
        <!-- Products Page Section -->
        <section id="products-page" class="w-full">
            <div class="bg-white rounded-lg shadow-xl p-8 max-w-3xl mx-auto mb-8">
                <div class="text-center">
                    <h1 class="text-3xl font-bold text-gray-800 mb-4" data-lang-key="welcomeTitle">Handmade with Love ‚ù§Ô∏è</h1>
                    <p class="text-gray-600 text-lg mb-6 leading-relaxed" data-lang-key="welcomeText">
                        Explore our latest collection of products. Each item is available for immediate purchase through our secure checkout.
                    </p>
                </div>
                <!-- Banner image with data attribute for dynamic text -->
                <img id="banner-image" src="https://placehold.co/800x450/e0f2f7/0e7490" alt="Autumn collections - 2025" class="w-full rounded-lg shadow-md mb-8" data-lang-key="bannerText">
            </div>

            <div class="bg-white rounded-lg shadow-xl p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4" data-lang-key="productsTitle">Our Product Collection</h2>
                <p class="text-gray-600 leading-relaxed mb-6" data-lang-key="productsText">
                    At ClayCharm, we believe jewelry should be as fun, unique, and full of personality who wear it.
                    Every piece is handmade with love using colorful polymer clay, designed to add that perfect pop of charm and creativity to any look.
                </p>
                <!-- Product groups will be dynamically generated here -->
                <div id="product-groups"></div>
            </div>
        </section>

        <!-- About Us Page Section -->
        <section id="about-us-page" class="w-full max-w-5xl hidden">
            <div class="bg-white rounded-lg shadow-xl p-8 mb-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4" data-lang-key="aboutTitle">About Our Company</h2>
                <p class="text-gray-600 leading-relaxed mb-4" data-lang-key="aboutParagraph1">
                    At ClayCharm, we believe that jewelry isn‚Äôt just about accessorizing‚Äîit‚Äôs about expressing your unique personality, creativity, and style. Each of our pieces is handmade with love, using colorful polymer clay to create one-of-a-kind designs that add charm, joy, and a touch of magic to every outfit.
                </p>
                <p class="text-gray-600 leading-relaxed" data-lang-key="aboutParagraph2">
                    From vibrant, colorful pieces to elegant, subtle designs, ClayCharm offers something for every woman who loves to express herself through fashion. Each piece is carefully crafted to make you feel special and add that perfect charm to your look‚Äîno matter the occasion.
                </p>
            </div>
            <!-- New section for "Meet the Maker" -->
            <div class="bg-white rounded-lg shadow-xl p-8 flex flex-col md:flex-row items-center md:items-start gap-8">
                <!-- Maker's Image -->
                <!-- Replace this placeholder with the actual URL to your image -->
                <img src="./images/IMG_2240.jpg" alt="Priyadharshini, the maker of ClayCharm" class="w-48 h-48 rounded-full object-cover shadow-lg flex-shrink-0">
                
                <div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-4" data-lang-key="meetTheMakerTitle">Meet the Maker</h3>
                    <p class="text-gray-600 leading-relaxed" data-lang-key="meetTheMakerText">
                        Hi, I‚Äôm Priyadharshini [PD], the creator behind ClayCharm! I‚Äôve always had a passion for crafting and design. My goal is to share jewelry that celebrates individuality, creativity, and beauty‚Äîpieces that add charm to any woman‚Äôs day, no matter her age or style.
                    </p>
                </div>
            </div>
        </section>

        <!-- Contact Us Page Section -->
        <section id="contact-us-page" class="w-full max-w-md hidden">
            <div class="bg-white rounded-lg shadow-xl p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4" data-lang-key="contactTitle">Get in Touch</h2>
                <!-- Contact information -->
                <div class="mb-6 space-y-4">
                    <p class="text-gray-600 leading-relaxed" data-lang-key="contactIntroText">
                        Have a question or a special request? We'd love to hear from you!
                    </p>
                    <div class="flex items-center space-x-2">
                        <svg class="w-6 h-6 text-teal-600" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M2.003 5.884L10 9.874V22h12V3H2.003v2.884zM12 20h8V5h-8v15z"/>
                            <path d="M12 9.874l-9.997-3.99V2.997h19.997v3.887l-9.997 3.99z"/>
                        </svg>
                        <a href="mailto:claymorebypd@gmail.com" class="text-teal-600 hover:underline">claymorebypd@gmail.com</a>
                    </div>
                    <div class="flex items-center space-x-2">
                        <svg class="w-6 h-6 text-teal-600" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2.163c3.226 0 3.635.012 4.903.07a8.514 8.514 0 011.595.31c.64.163 1.155.385 1.558.887a4.912 4.912 0 01.887 1.558c.158.558.267 1.25.31 1.595.058 1.268.07 1.677.07 4.903s-.012 3.635-.07 4.903a8.514 8.514 0 01-.31 1.595c-.163.64-.385 1.155-.887 1.558a4.912 4.912 0 01-1.558.887c-.558.158-1.25.267-1.595.31-1.268.058-1.677.07-4.903.07s-3.635-.012-4.903-.07a8.514 8.514 0 01-1.595-.31c-.64-.163-1.155-.385-1.558-.887a4.912 4.912 0 01-.887-1.558c-.158-.558-.267-1.25-.31-1.595-.058-1.268-.07-1.677-.07-4.903s.012-3.635.07-4.903a8.514 8.514 0 01.31-1.595c.163-.64.385-1.155.887-1.558a4.912 4.912 0 011.558-.887c.558-.158 1.25-.267 1.595-.31 1.268-.058 1.677-.07 4.903-.07zm0 14.615A6.615 6.615 0 1012 5.385a6.615 6.615 0 010 13.23zm-3.615-9.615a.998.998 0 110-2 .998.998 0 010 2zM12 8a4 4 0 110 8 4 4 0 010-8z"/>
                        </svg>
                        <a href="https://www.instagram.com/claymore_bypd?igsh=MW41YTV0cWM5aWs1dA%3D%3D&utm_source=qr" target="_blank" class="text-teal-600 hover:underline">Instagram</a>
                    </div>
                </div>
                <form>
                    <div class="mb-4">
                        <label for="name" class="block text-gray-700 font-semibold mb-2" data-lang-key="contactNameLabel">Your Name</label>
                        <input type="text" id="name" name="name" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500">
                    </div>
                    <div class="mb-4">
                        <label for="email" class="block text-gray-700 font-semibold mb-2" data-lang-key="contactEmailLabel">Your Email</label>
                        <input type="email" id="email" name="email" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500">
                    </div>
                    <div class="mb-4">
                        <label for="message" class="block text-gray-700 font-semibold mb-2" data-lang-key="contactMessageLabel">Your Message</label>
                        <textarea id="message" name="message" rows="4" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500"></textarea>
                    </div>
                    <div class="mb-6">
                        <label for="feedback" class="block text-gray-700 font-semibold mb-2" data-lang-key="contactFeedbackLabel">Your Feedback</label>
                        <textarea id="feedback" name="feedback" rows="4" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500"></textarea>
                    </div>
                    <button type="submit" class="w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200" data-lang-key="contactSubmitBtn">
                        Send Message
                    </button>
                </form>
            </div>
        </section>

        <!-- Cart Page Section -->
        <section id="cart-page" class="w-full max-w-3xl hidden">
            <div class="bg-white rounded-lg shadow-xl p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-6" data-lang-key="cartTitle">Your Shopping Cart</h2>
                <div id="cart-items" class="space-y-4">
                    <!-- Cart items will be rendered here dynamically -->
                    <p class="text-gray-500" id="empty-cart-message" data-lang-key="emptyCartMessage">Your cart is empty. Add some products to get started!</p>
                </div>
                <!-- Total amount line, now visually distinct -->
                <div class="mt-8 pt-4 border-t border-gray-200">
                    <div class="flex justify-between items-center py-4 px-6 bg-teal-50 rounded-lg">
                        <span class="text-lg font-bold text-teal-800" data-lang-key="cartTotalLabel">Total:</span>
                        <span class="text-2xl font-bold text-teal-800"><span id="cart-total">0</span> SEK</span>
                    </div>
                </div>
                <div class="flex flex-col sm:flex-row justify-end items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-6">
                    <button id="clear-cart-button" class="w-full sm:w-auto bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg transition-colors duration-200" data-lang-key="clearCartBtn">
                        Clear Cart
                    </button>
                    <!-- This button now navigates to the shipping page -->
                    <button id="checkout-button" class="w-full sm:w-auto bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200" data-lang-key="checkoutBtn">
                        Checkout
                    </button>
                </div>
            </div>
        </section>

        <!-- Shipping Page Section (NEW) -->
        <section id="shipping-page" class="w-full max-w-md hidden">
            <div class="bg-white rounded-lg shadow-xl p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4" data-lang-key="shippingTitle">Shipping Information</h2>
                <form id="shipping-form">
                    <div class="mb-4">
                        <label for="fullName" class="block text-gray-700 font-semibold mb-2" data-lang-key="shippingNameLabel">Full Name</label>
                        <input type="text" id="fullName" name="fullName" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500" required>
                    </div>
                    <div class="mb-4">
                        <label for="emailAddress" class="block text-gray-700 font-semibold mb-2" data-lang-key="shippingEmailLabel">Email Address</label>
                        <input type="email" id="emailAddress" name="emailAddress" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500" required>
                    </div>
                    <div class="mb-4">
                        <label for="address" class="block text-gray-700 font-semibold mb-2" data-lang-key="shippingAddressLabel">Address</label>
                        <input type="text" id="address" name="address" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500" required>
                    </div>
                    <div class="mb-4">
                        <label for="city" class="block text-gray-700 font-semibold mb-2" data-lang-key="shippingCityLabel">City</label>
                        <input type="text" id="city" name="city" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500" required>
                    </div>
                    <div class="mb-4">
                        <label for="zipCode" class="block text-gray-700 font-semibold mb-2" data-lang-key="shippingZipLabel">Zip Code</label>
                        <input type="text" id="zipCode" name="zipCode" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500" required>
                    </div>
                    <div class="mb-6">
                        <label for="country" class="block text-gray-700 font-semibold mb-2" data-lang-key="shippingCountryLabel">Country</label>
                        <input type="text" id="country" name="country" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500" required>
                    </div>
                    <button type="submit" id="continue-button" class="w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200" data-lang-key="continueBtn">
                        Continue to Payment
                    </button>
                </form>
            </div>
        </section>

        <!-- Review Page Section (NEW) -->
        <section id="review-page" class="w-full max-w-3xl hidden">
            <div class="bg-white rounded-lg shadow-xl p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4" data-lang-key="reviewTitle">Review Your Order</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Order Summary -->
                    <div>
                        <h3 class="text-xl font-bold text-gray-800 mb-4" data-lang-key="reviewOrderSummary">Order Summary</h3>
                        <div id="review-cart-items" class="space-y-4">
                            <!-- Review items will be rendered here -->
                        </div>
                        <div class="mt-4 pt-4 border-t border-gray-200 flex justify-between items-center">
                            <span class="text-lg font-bold text-gray-800" data-lang-key="reviewTotalLabel">Total:</span>
                            <span class="text-2xl font-bold text-teal-600"><span id="review-total">0</span> SEK</span>
                        </div>
                    </div>
                    <!-- Shipping Details -->
                    <div>
                        <h3 class="text-xl font-bold text-gray-800 mb-4" data-lang-key="reviewShippingInfo">Shipping Information</h3>
                        <div id="review-shipping-details" class="space-y-2 text-gray-600">
                            <!-- Shipping details will be rendered here -->
                        </div>
                        <button id="edit-shipping-button" class="mt-4 text-sm text-teal-600 hover:underline" data-lang-key="editShippingBtn">Edit</button>
                    </div>
                </div>
                <div class="mt-8 flex justify-end items-center">
                    <button id="pay-button" class="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200" data-lang-key="payNowBtn">
                        Pay Now
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Payment Status Modal -->
    <div id="paymentModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center hidden">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4 text-center overflow-y-auto max-h-[80vh]">
            <h2 id="modalTitle" class="text-2xl font-bold text-gray-800 mb-4"></h2>
            <p id="modalMessage" class="text-gray-600 mb-6"></p>
            <button id="closeModalButton" class="flex-shrink-0 bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200" data-lang-key="closeBtn">
                Close
            </button>
        </div>
    </div>
    
    <!-- Footer with Copyright -->
    <footer class="bg-gray-100 py-6 mt-12 text-center text-gray-500 text-sm">
        <p>&copy; 2025 Bluden AB - Sweden</p>
    </footer>

    <script>
        // In-memory data storage
        let cart = [];
        let shippingInfo = {};
        
        // This is where you can customize each product's details and price.
        const products = [
            {
                id: 1,
                name: 'Teal Drops',
                category: 'nature-inspired',
                price: 250,
                imageSrc: './images/product1.png'
            },
            {
                id: 2,
                name: 'Autumn Leaves',
                category: 'autumn-abstracts',
                price: 310,
                imageSrc: './images/product2.png'
            },
            {
                id: 3,
                name: 'Midnight Bloom',
                category: 'bold-artistic',
                price: 290,
                imageSrc: './images/product3.png'
            },
            {
                id: 4,
                name: 'Golden Flow',
                category: 'shimmer-flow',
                price: 275,
                imageSrc: './images/product4.png'
            },
            {
                id: 5,
                name: 'Ocean Waves',
                category: 'nature-inspired',
                price: 260,
                imageSrc: './images/product5.png'
            },
            {
                id: 6,
                name: 'Fall Sunset',
                category: 'autumn-abstracts',
                price: 320,
                imageSrc: './images/product6.png'
            },
            {
                id: 7,
                name: 'Pink Crush',
                category: 'bold-artistic',
                price: 285,
                imageSrc: './images/product7.png'
            },
            {
                id: 8,
                name: 'Mystic Swirl',
                category: 'shimmer-flow',
                price: 300,
                imageSrc: './images/product8.png'
            },
            {
                id: 9,
                name: 'Forest Ferns',
                category: 'nature-inspired',
                price: 270,
                imageSrc: './images/product9.png'
            },
            {
                id: 10,
                name: 'Cranberry Twist',
                category: 'autumn-abstracts',
                price: 330,
                imageSrc: './images/product10.png'
            },
            {
                id: 11,
                name: 'Red Hot',
                category: 'bold-artistic',
                price: 295,
                imageSrc: './images/product11.png'
            },
            {
                id: 12,
                name: 'Silver Mist',
                category: 'shimmer-flow',
                price: 280,
                imageSrc: './images/product12.png'
            },
            {
                id: 13,
                name: 'Crimson Twist',
                category: 'bold-artistic',
                price: 310,
                imageSrc: './images/product13.png'
            },
            {
                id: 14,
                name: 'Azure Swirl',
                category: 'bold-artistic',
                price: 290,
                imageSrc: './images/product14.png'
            },
            {
                id: 15,
                name: 'Silver Lining',
                category: 'shimmer-flow',
                price: 285,
                imageSrc: './images/product15.png'
            },
            {
                id: 16,
                name: 'Green Marble',
                category: 'nature-inspired',
                price: 265,
                imageSrc: './images/product16.png'
            },
            {
                id: 17,
                name: 'Fiery Heart',
                category: 'bold-artistic',
                price: 320,
                imageSrc: './images/product17.png'
            },
            {
                id: 18,
                name: 'Forest Floor',
                category: 'autumn-abstracts',
                price: 275,
                imageSrc: './images/product18.png'
            },
            {
                id: 19,
                name: 'Ocean Ripple',
                category: 'bold-artistic',
                price: 300,
                imageSrc: './images/product19.png'
            },
            {
                id: 20,
                name: 'Pearl Drops',
                category: 'shimmer-flow',
                price: 350,
                imageSrc: './images/product20.png'
            },
            {
                id: 21,
                name: 'Sunrise Burst',
                category: 'bold-artistic',
                price: 295,
                imageSrc: './images/product21.png'
            },
            {
                id: 23,
                name: 'Earthy Hues',
                category: 'autumn-abstracts',
                price: 280,
                imageSrc: './images/product23.png'
            }
        ];
        
        // Object for translations
        const categories = [
            { id: 'nature-inspired', nameKey: 'nature-inspired-category' },
            { id: 'autumn-abstracts', nameKey: 'autumn-abstracts-category' },
            { id: 'bold-artistic', nameKey: 'bold-artistic-category' },
            { id: 'shimmer-flow', nameKey: 'shimmer-flow-category' }
        ];

        const translations = {
            en: {
                navProducts: 'Products',
                navAbout: 'About Us',
                navContact: 'Contact Us',
                welcomeTitle: 'Handmade with Love ‚ù§Ô∏è',
                welcomeText: 'Explore our latest collection of products. Each item is available for immediate purchase through our secure checkout.',
                bannerText: 'Autumn Collections - 2025',
                autumnMotto: 'Embrace the season with our new autumn designs.',
                autumnCollection: 'Autumn Collection - H√∂stkollektion',
                productsTitle: 'Our Product Collection',
                productsText: 'At ClayCharm, we believe jewelry should be as fun, unique, and full of personality who wear it.\nEvery piece is handmade with love using colorful polymer clay, designed to add that perfect pop of charm and creativity to any look.',
                addToCartBtn: 'Add to Cart',
                aboutTitle: 'About Our Company',
                aboutParagraph1: 'At ClayCharm, we believe that jewelry isn‚Äôt just about accessorizing‚Äîit‚Äôs about expressing your unique personality, creativity, and style. Each of our pieces is handmade with love, using colorful polymer clay to create one-of-a-kind designs that add charm, joy, and a touch of magic to every outfit.',
                aboutParagraph2: 'From vibrant, colorful pieces to elegant, subtle designs, ClayCharm offers something for every woman who loves to express herself through fashion. Each piece is carefully crafted to make you feel special and add that perfect charm to your look‚Äîno matter the occasion.',
                meetTheMakerTitle: 'Meet the Maker',
                meetTheMakerText: 'Hi, I‚Äôm Priyadharshini [PD], the creator behind ClayCharm! I‚Äôve always had a passion for crafting and design. My goal is to share jewelry that celebrates individuality, creativity, and beauty‚Äîpieces that add charm to any woman‚Äôs day, no matter her age or style.',
                contactTitle: 'Get in Touch',
                contactIntroText: 'Have a question or a special request? We\'d love to hear from you!',
                contactEmail: 'Email Us',
                contactInstagram: 'Instagram',
                contactNameLabel: 'Your Name',
                contactEmailLabel: 'Your Email',
                contactMessageLabel: 'Your Message',
                contactFeedbackLabel: 'Your Feedback',
                contactSubmitBtn: 'Send Message',
                cartTitle: 'Your Shopping Cart',
                emptyCartMessage: 'Your cart is empty. Add some products to get started!',
                cartTotalLabel: 'Total:',
                clearCartBtn: 'Clear Cart',
                checkoutBtn: 'Checkout',
                shippingTitle: 'Shipping Information',
                shippingNameLabel: 'Full Name',
                shippingEmailLabel: 'Email Address',
                shippingAddressLabel: 'Address',
                shippingCityLabel: 'City',
                shippingZipLabel: 'Zip Code',
                shippingCountryLabel: 'Country',
                continueBtn: 'Continue to Payment',
                reviewTitle: 'Review Your Order',
                reviewOrderSummary: 'Order Summary',
                reviewShippingInfo: 'Shipping Information',
                reviewTotalLabel: 'Total:',
                editShippingBtn: 'Edit',
                payNowBtn: 'Pay Now',
                modalProductAddedTitle: 'Product Added!',
                modalProductAddedMessage: (productName) => `"${productName}" has been added to your cart.`,
                modalCannotCheckoutTitle: 'Cannot Checkout',
                modalCannotCheckoutMessage: 'Your cart is empty. Please add items to checkout.',
                modalPaymentSuccessTitle: 'Payment Successful',
                modalPaymentSuccessMessage: (confirmationCode, email) => `<p class="mb-4">Thank you for your order! Your payment was successful.</p><p class="mb-4">Your confirmation code is: <span class="font-bold text-teal-600">${confirmationCode}</span></p><p>A confirmation email has been sent to ${email}.</p>`,
                modalPaymentFailedTitle: 'Payment Failed',
                modalPaymentFailedMessage: (email) => `<p class="mb-4">Unfortunately, your payment could not be processed.</p><p>An email with further instructions has been sent to ${email}. Please try again or contact support.</p>`,
                modalCartClearedTitle: 'Cart Cleared',
                modalCartClearedMessage: 'Your shopping cart has been emptied.',
                processingBtn: 'Processing...',
                buyNowBtn: 'Pay Now',
                removeItemBtn: 'Remove',
                closeBtn: 'Close',
                // Category translations
                'nature-inspired-category': 'üåø Nature-Inspired',
                'autumn-abstracts-category': 'üçÅ Autumn Abstracts',
                'bold-artistic-category': '‚ù§Ô∏è Bold & Artistic',
                'shimmer-flow-category': 'üçÇ Shimmer & Fl√∂de',
            },
            sv: {
                navProducts: 'Produkter',
                navAbout: 'Om Oss',
                navContact: 'Kontakta Oss',
                welcomeTitle: 'Handgjort med K√§rlek ‚ù§Ô∏è',
                welcomeText: 'Utforska v√•r senaste kollektion av produkter. Varje artikel √§r tillg√§nglig f√∂r omedelbart k√∂p via v√•r s√§kra kassa.',
                bannerText: 'H√∂stkollektioner - 2025',
                autumnMotto: 'Omfamna s√§songen med v√•ra nya h√∂stdesigner.',
                autumnCollection: 'H√∂stkollektion - Autumn Collection',
                productsTitle: 'V√•r produktkollektion',
                productsText: 'P√• ClayCharm anser vi att smycken ska vara lika roliga, unika och fulla av personlighet som den som b√§r dem. Varje smycke √§r handgjort med k√§rlek, designat f√∂r att l√§gga till den perfekta touchen av charm och kreativitet till varje look.',
                addToCartBtn: 'L√§gg i varukorg',
                aboutTitle: 'Om V√•rt F√∂retag',
                aboutParagraph1: 'P√• ClayCharm tror vi att smycken inte bara handlar om att accessorizera‚Äîdet handlar om att uttrycka din unika personlighet, kreativitet och stil. Var och en av v√•ra smycken √§r handgjorda med k√§rlek, med hj√§lp av f√§rgglad polymerlera f√∂r att skapa unika designer som ger charm, gl√§dje och en touch av magi till varje outfit.',
                aboutParagraph2: 'Fr√•n levande, f√§rgstarka smycken till eleganta, subtila designer, erbjuder ClayCharm n√•got f√∂r varje kvinna som √§lskar att uttrycka sig genom mode. Varje smycke √§r noggrant utformat f√∂r att f√• dig att k√§nna dig speciell och l√§gga till den perfekta charmen till din look‚Äîno matter the occasion.',
                meetTheMakerTitle: 'M√∂t Skaparen',
                meetTheMakerText: 'Hej, jag √§r Priyadharshini [PD], skaparen bakom ClayCharm! Jag har alltid haft en passion f√∂r hantverk och design. Mitt m√•l √§r att dela med mig av smycken som hyllar individualitet, kreativitet och sk√∂nhet‚Äîsmycken som ger charm till varje kvinnas dag, no matter her age or style.',
                contactTitle: 'Kontakta Oss',
                contactIntroText: 'Har du en fr√•ga eller en speciell √∂nskan? Vi vill g√§rna h√∂ra fr√•n dig!',
                contactEmail: 'Mejla Oss',
                contactInstagram: 'Instagram',
                contactNameLabel: 'Ditt Namn',
                contactEmailLabel: 'Din E-post',
                contactMessageLabel: 'Ditt Meddelande',
                contactFeedbackLabel: 'Din Feedback',
                contactSubmitBtn: 'Skicka Meddelande',
                cartTitle: 'Din Varukorg',
                emptyCartMessage: 'Din varukorg √§r tom. L√§gg till n√•gra produkter f√∂r att komma ig√•ng!',
                cartTotalLabel: 'Totalt:',
                clearCartBtn: 'T√∂m varukorg',
                checkoutBtn: 'G√• till kassan',
                shippingTitle: 'Leveransinformation',
                shippingNameLabel: 'Fullst√§ndigt namn',
                shippingEmailLabel: 'E-postadress',
                shippingAddressLabel: 'Adress',
                shippingCityLabel: 'Stad',
                shippingZipLabel: 'Postnummer',
                shippingCountryLabel: 'Land',
                continueBtn: 'Forts√§tt till betalning',
                reviewTitle: 'Granska din best√§llning',
                reviewOrderSummary: 'Ordersammanfattning',
                reviewShippingInfo: 'Leveransinformation',
                reviewTotalLabel: 'Totalt:',
                editShippingBtn: 'Redigera',
                payNowBtn: 'Betala nu',
                modalProductAddedTitle: 'Produkt tillagd!',
                modalProductAddedMessage: (productName) => `"${productName}" har lagts till i din varukorg.`,
                modalCannotCheckoutTitle: 'Kan inte g√• till kassan',
                modalCannotCheckoutMessage: 'Din varukorg √§r tom. L√§gg till varor f√∂r att g√• till kassan.',
                modalPaymentSuccessTitle: 'Betalning lyckades!',
                modalPaymentSuccessMessage: (confirmationCode, email) => `<p class="mb-4">Tack f√∂r din best√§llning! Din betalning lyckades.</p><p class="mb-4">Din bekr√§ftelsekod √§r: <span class="font-bold text-teal-600">${confirmationCode}</span></p><p>Ett bekr√§ftelsemail har skickats till ${email}.</p>`,
                modalPaymentFailedTitle: 'Betalning misslyckades',
                modalPaymentFailedMessage: (email) => `<p class="mb-4">Tyv√§rr kunde din betalning inte behandlas.</p><p>Ett mail med ytterligare instruktioner har skickats till ${email}. V√§nligen f√∂rs√∂k igen eller kontakta support.</p>`,
                modalCartClearedTitle: 'Varukorgen t√∂md',
                modalCartClearedMessage: 'Din varukorg har t√∂mts.',
                processingBtn: 'Bearbetar...',
                buyNowBtn: 'Betala nu',
                removeItemBtn: 'Ta bort',
                closeBtn: 'St√§ng',
                // Category translations
                'nature-inspired-category': 'üåø Natur-inspirerad',
                'autumn-abstracts-category': 'üçÅ H√∂stabstrakter',
                'bold-artistic-category': '‚ù§Ô∏è Dj√§rv & Konstn√§rlig',
                'shimmer-flow-category': 'üçÇ Skimmer & Fl√∂de',
            }
        };
        
        let currentLang = 'en';

        // Helper function to get product name translation
        function getTranslatedProductName(productId, lang) {
            const product = products.find(p => p.id === productId);
            if (!product) return '';
            const productKey = `product${productId}Name`;
            return translations[lang][productKey] || product.name;
        }

        // Function to generate and render product cards
        function renderProducts() {
            const productGroupsElement = document.getElementById('product-groups');
            productGroupsElement.innerHTML = ''; // Clear existing content

            // Group products by category
            const groupedProducts = products.reduce((acc, product) => {
                (acc[product.category] = acc[product.category] || []).push(product);
                return acc;
            }, {});

            categories.forEach(category => {
                const categoryProducts = groupedProducts[category.id] || [];
                if (categoryProducts.length > 0) {
                    const categorySection = document.createElement('div');
                    categorySection.classList.add('mb-12');
                    
                    const categoryTitle = document.createElement('h3');
                    categoryTitle.classList.add('text-xl', 'font-bold', 'text-gray-800', 'mb-4');
                    categoryTitle.textContent = translations[currentLang][category.nameKey];
                    categorySection.appendChild(categoryTitle);

                    const productGrid = document.createElement('div');
                    productGrid.classList.add('grid', 'grid-cols-1', 'sm:grid-cols-2', 'md:grid-cols-3', 'lg:grid-cols-4', 'xl:grid-cols-5', 'gap-6');

                    categoryProducts.forEach(product => {
                        const translatedName = getTranslatedProductName(product.id, currentLang);

                        const productCardHtml = `
                            <div class="flex flex-col rounded-lg shadow-md transition-transform duration-200 hover:scale-105 border border-gray-100 p-4">
                                <img src="${product.imageSrc}" alt="${translatedName}" class="w-full rounded-lg mb-4">
                                <p class="font-semibold text-lg text-gray-800">${translatedName}</p>
                                <p class="text-teal-600 font-bold text-xl mb-4">${product.price} SEK</p>
                                <button class="add-to-cart-button w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200" data-id="${product.id}" data-lang-key="addToCartBtn">
                                    ${translations[currentLang].addToCartBtn}
                                </button>
                            </div>
                        `;
                        productGrid.innerHTML += productCardHtml;
                    });
                    
                    categorySection.appendChild(productGrid);
                    productGroupsElement.appendChild(categorySection);
                }
            });
        }


        // Global function to handle page switching
        function showPage(pageId) {
            const sections = document.querySelectorAll('section');
            sections.forEach(section => {
                section.classList.add('hidden');
            });

            const pageToShow = document.getElementById(pageId);
            if (pageToShow) {
                pageToShow.classList.remove('hidden');
            }

            // Update active link styling
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
            });
            const activeLink = document.querySelector(`[onclick="showPage('${pageId}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
            
            // Special rendering for specific pages
            if (pageId === 'products-page') {
                renderProducts();
            } else if (pageId === 'cart-page') {
                renderCart();
            } else if (pageId === 'review-page') {
                renderReview();
            }
        }
        
        // Language setter
        function setLanguage(lang) {
            currentLang = lang;
            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.getAttribute('data-lang-key');
                const translation = translations[lang][key];

                if (element.tagName === 'IMG') {
                    // Handle image URL with text
                    const newSrc = `https://placehold.co/800x450/e0f2f7/0e7490?text=${encodeURIComponent(translation)}`;
                    element.src = newSrc;
                    element.alt = translation;
                } else if (typeof translation === 'function') {
                    // This case is for dynamic messages, e.g., in modals
                } else {
                    element.textContent = translation;
                }
            });

            // Re-render cart and review page to update product names if visible
            if (document.getElementById('products-page').classList.contains('hidden') === false) {
                renderProducts();
            }
            if (document.getElementById('cart-page').classList.contains('hidden') === false) {
                renderCart();
            }
            if (document.getElementById('review-page').classList.contains('hidden') === false) {
                renderReview();
            }
        }

        // Get elements for the cart functionality
        const cartCountElement = document.getElementById('cart-count');
        const cartItemsElement = document.getElementById('cart-items');
        const cartTotalElement = document.getElementById('cart-total');
        const emptyCartMessage = document.getElementById('empty-cart-message');
        const clearCartButton = document.getElementById('clear-cart-button');
        const checkoutButton = document.getElementById('checkout-button');
        const languageSelector = document.getElementById('language-selector');

        // Function to update the cart counter and total
        function updateCart() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            cartCountElement.textContent = totalItems;
            cartTotalElement.textContent = totalPrice;
            emptyCartMessage.classList.toggle('hidden', cart.length > 0);
        }

        // Function to render the cart items in the cart page
        function renderCart() {
            cartItemsElement.innerHTML = ''; // Clear existing items
            if (cart.length === 0) {
                emptyCartMessage.classList.remove('hidden');
            } else {
                emptyCartMessage.classList.add('hidden');
                cart.forEach(item => {
                    const translatedName = getTranslatedProductName(item.id, currentLang);
                    const itemElement = document.createElement('div');
                    itemElement.classList.add('flex', 'flex-col', 'sm:flex-row', 'justify-between', 'items-center', 'p-4', 'rounded-lg', 'bg-gray-50');
                    itemElement.innerHTML = `
                        <div class="flex flex-grow items-center space-x-4 mb-4 sm:mb-0">
                            <p class="font-semibold text-gray-800">${translatedName}</p>
                            <div class="quantity-control flex items-center space-x-2">
                                <button class="decrease-qty-button" data-id="${item.id}">-</button>
                                <span class="text-sm font-semibold text-gray-700">${item.quantity}</span>
                                <button class="increase-qty-button" data-id="${item.id}">+</button>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            <p class="font-bold text-teal-600">${item.price * item.quantity} SEK</p>
                            <button class="remove-from-cart-button text-red-500 hover:text-red-700 font-semibold text-sm transition-colors duration-200" data-id="${item.id}" data-lang-key="removeItemBtn">
                                ${translations[currentLang].removeItemBtn}
                            </button>
                        </div>
                    `;
                    cartItemsElement.appendChild(itemElement);
                });
            }
        }
        
        // Function to render the review page
        function renderReview() {
            const reviewCartItemsElement = document.getElementById('review-cart-items');
            reviewCartItemsElement.innerHTML = ''; // Clear existing items
            cart.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.classList.add('flex', 'justify-between', 'items-center', 'p-2', 'rounded-lg', 'bg-gray-50');
                const translatedName = getTranslatedProductName(item.id, currentLang);
                itemElement.innerHTML = `
                    <p class="font-semibold text-gray-800">${translatedName} (${item.quantity}x)</p>
                    <p class="font-bold text-teal-600">${item.price * item.quantity} SEK</p>
                `;
                reviewCartItemsElement.appendChild(itemElement);
            });

            const reviewTotalElement = document.getElementById('review-total');
            const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            reviewTotalElement.textContent = totalPrice;

            const reviewShippingDetailsElement = document.getElementById('review-shipping-details');
            reviewShippingDetailsElement.innerHTML = `
                <p>${shippingInfo.fullName}</p>
                <p>${shippingInfo.emailAddress}</p>
                <p>${shippingInfo.address}</p>
                <p>${shippingInfo.zipCode} ${shippingInfo.city}</p>
                <p>${shippingInfo.country}</p>
            `;
        }
        
        // Helper function to generate a random confirmation code
        function generateConfirmationCode(length = 8) {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = '';
            for (let i = 0; i < length; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }

        // Function to handle adding a product to the cart
        function handleAddToCartClick(event) {
            const button = event.target;
            const productId = parseInt(button.dataset.id);

            const product = products.find(p => p.id === productId);

            if (!product) {
                return;
            }

            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ id: product.id, name: product.name, price: product.price, quantity: 1 });
            }
            updateCart();
            const translatedName = getTranslatedProductName(product.id, currentLang);
            showModal(translations[currentLang].modalProductAddedTitle, translations[currentLang].modalProductAddedMessage(translatedName));
        }

        // Function to remove a single product from the cart
        function handleRemoveItem(event) {
            const button = event.target;
            const productId = parseInt(button.dataset.id);
            const itemIndex = cart.findIndex(item => item.id === productId);

            if (itemIndex > -1) {
                cart.splice(itemIndex, 1);
            }
            updateCart();
            renderCart();
        }
        
        // Function to increase the quantity of a product
        function handleIncreaseQuantity(productId) {
            const item = cart.find(i => i.id === productId);
            if (item) {
                item.quantity++;
                updateCart();
                renderCart();
            }
        }

        // Function to decrease the quantity of a product
        function handleDecreaseQuantity(productId) {
            const item = cart.find(i => i.id === productId);
            if (item) {
                item.quantity--;
                if (item.quantity <= 0) {
                    const itemIndex = cart.findIndex(i => i.id === productId);
                    cart.splice(itemIndex, 1);
                }
                updateCart();
                renderCart();
            }
        }

        // Function to clear the cart
        function handleClearCartClick() {
            cart = [];
            updateCart();
            renderCart();
            showModal(translations[currentLang].modalCartClearedTitle, translations[currentLang].modalCartClearedMessage);
        }

        // Function to handle the checkout process from the cart page
        function handleCartCheckoutClick() {
            if (cart.length === 0) {
                showModal(translations[currentLang].modalCannotCheckoutTitle, translations[currentLang].modalCannotCheckoutMessage);
                return;
            }
            showPage('shipping-page');
        }

        // Function to handle the shipping form submission
        function handleShippingSubmit(event) {
            event.preventDefault();
            const form = event.target;
            if (form.checkValidity()) {
                shippingInfo = {
                    fullName: form.fullName.value,
                    emailAddress: form.emailAddress.value,
                    address: form.address.value,
                    city: form.city.value,
                    zipCode: form.zipCode.value,
                    country: form.country.value,
                };
                showPage('review-page');
            } else {
                // If form is not valid, the browser will show validation errors
                form.reportValidity();
            }
        }

        // Function to handle the final payment from the review page
        function handleFinalCheckoutClick() {
            const payButton = document.getElementById('pay-button');
            payButton.disabled = true;
            payButton.textContent = translations[currentLang].processingBtn;
            payButton.classList.remove('bg-teal-600', 'hover:bg-teal-700');
            payButton.classList.add('bg-teal-400');

            // Simulate a 70% chance of success
            const paymentSuccess = Math.random() < 0.7;

            setTimeout(() => {
                payButton.disabled = false;
                payButton.textContent = translations[currentLang].payNowBtn;
                payButton.classList.remove('bg-teal-400');
                payButton.classList.add('bg-teal-600', 'hover:bg-teal-700');

                if (paymentSuccess) {
                    const confirmationCode = generateConfirmationCode();
                    showModal(
                        translations[currentLang].modalPaymentSuccessTitle,
                        translations[current.lang].modalPaymentSuccessMessage(confirmationCode, shippingInfo.emailAddress)
                    );
                } else {
                    showModal(
                        translations[currentLang].modalPaymentFailedTitle,
                        translations[current.lang].modalPaymentFailedMessage(shippingInfo.emailAddress)
                    );
                }
            }, 2000);
        }
        
        // Get elements for the modal
        const paymentModal = document.getElementById('paymentModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalMessage = document.getElementById('modalMessage');
        const closeModalButton = document.getElementById('closeModalButton');
        const shippingForm = document.getElementById('shipping-form');
        const editShippingButton = document.getElementById('edit-shipping-button');
        const payButton = document.getElementById('pay-button');

        // Global function to show the modal with a custom message
        function showModal(title, message) {
            modalTitle.textContent = title;
            modalMessage.innerHTML = message;
            paymentModal.classList.remove('hidden');
        }

        // Event listeners
        document.getElementById('products-page').addEventListener('click', (event) => {
            if (event.target.classList.contains('add-to-cart-button')) {
                handleAddToCartClick(event);
            }
        });
        
        // Event delegation for dynamically added buttons in the cart
        document.getElementById('cart-items').addEventListener('click', (event) => {
            const target = event.target;
            const productId = parseInt(target.dataset.id);

            if (target.classList.contains('remove-from-cart-button')) {
                handleRemoveItem(event);
            } else if (target.classList.contains('increase-qty-button')) {
                handleIncreaseQuantity(productId);
            } else if (target.classList.contains('decrease-qty-button')) {
                handleDecreaseQuantity(productId);
            }
        });

        clearCartButton.addEventListener('click', handleClearCartClick);
        // The cart checkout button now navigates to the shipping page
        checkoutButton.addEventListener('click', handleCartCheckoutClick);
        
        // New event listener for the shipping form submission
        shippingForm.addEventListener('submit', handleShippingSubmit);

        // New event listener for editing shipping details
        editShippingButton.addEventListener('click', () => {
            showPage('shipping-page');
        });

        // New event listener for the final payment button
        payButton.addEventListener('click', handleFinalCheckoutClick);

        languageSelector.addEventListener('change', (event) => {
            setLanguage(event.target.value);
        });

        if (closeModalButton) {
            closeModalButton.addEventListener('click', () => {
                paymentModal.classList.add('hidden');
            });
        }

        // Show the initial page on load
        window.onload = () => {
            setLanguage('en'); // Set default language to English
            showPage('products-page');
            updateCart();
        };
    </script>
</body>
</html>
