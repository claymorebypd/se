<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swedbank Pay Checkout</title>
    <!-- Use Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e2e8f0;
        }

        /* Custom styles for the image upload drag-and-drop area */
        #image-upload-area {
            border: 2px dashed #cbd5e1;
            transition: border-color 0.2s ease-in-out;
        }

        #image-upload-area.drag-over {
            border-color: #6366f1;
        }

        /* Style for the active navigation link */
        .nav-link.active {
            font-weight: bold;
            color: #4338ca;
            border-bottom: 2px solid #4338ca;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header and Navigation -->
    <header class="bg-white shadow-md p-4">
        <nav class="container mx-auto flex justify-between items-center">
            <a href="#" onclick="showPage('home-page')" class="text-2xl font-bold text-gray-900">SwiftShop</a>
            <div class="space-x-4">
                <a href="#" onclick="showPage('home-page')" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200">Home</a>
                <a href="#" onclick="showPage('about-us-page')" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200">About Us</a>
                <a href="#" onclick="showPage('sale-page')" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200">Sale</a>
                <a href="#" onclick="showPage('contact-us-page')" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200">Contact Us</a>
            </div>
        </nav>
    </header>

    <!-- Main Content Area with Pages -->
    <main class="flex-grow flex items-start justify-center p-8">
        
        <!-- Home Page Section -->
        <section id="home-page" class="w-full flex flex-col md:flex-row space-y-8 md:space-y-0 md:space-x-8 max-w-5xl">
            <!-- Main Product Card -->
            <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-auto md:mx-0">
                <div class="text-center">
                    <h1 class="text-3xl font-bold text-gray-800 mb-2">Awesome Product</h1>
                    <p class="text-gray-500 mb-6">The best thing you'll ever own.</p>
                </div>
                <img src="https://placehold.co/400x300/e5e7eb/6b7280?text=Product+Image" alt="Product Image" class="w-full rounded-lg mb-6">
                <div class="flex items-center justify-between mb-6">
                    <span class="text-2xl font-bold text-gray-900">999 SEK</span>
                    <span class="text-sm text-gray-400">incl. VAT</span>
                </div>
                <button id="buyButton" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                    Buy Now
                </button>
            </div>

            <!-- Image Upload Section -->
            <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-auto md:mx-0 flex-grow">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Upload Your Pictures</h2>
                <p class="text-gray-600 mb-6">Select or drag and drop images to upload them.</p>
                <div id="image-upload-area" class="flex flex-col items-center justify-center p-8 rounded-lg mb-4 cursor-pointer hover:bg-gray-50 transition-colors duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    <p class="mt-2 text-gray-500 text-center">Drag and drop files here or click to browse</p>
                    <input type="file" id="fileInput" class="hidden" multiple accept="image/*">
                </div>
                <div id="image-previews" class="grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6"></div>
                <button id="uploadButton" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2">
                    Upload Images
                </button>
            </div>
        </section>

        <!-- About Us Page Section -->
        <section id="about-us-page" class="w-full max-w-5xl hidden">
            <div class="bg-white rounded-lg shadow-xl p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">About Our Company</h2>
                <p class="text-gray-600 leading-relaxed mb-4">
                    Founded in 2023, SwiftShop is a leading provider of innovative solutions for modern consumers. Our mission is to deliver high-quality products and seamless experiences that empower our customers to live smarter, more connected lives. We believe in transparency, integrity, and putting our users first.
                </p>
                <p class="text-gray-600 leading-relaxed">
                    Our team of passionate experts works tirelessly to bring you the best products on the market, from the latest tech gadgets to everyday essentials. We are committed to sustainability and ethical practices, ensuring that every product you buy from us is one you can feel good about.
                </p>
            </div>
        </section>

        <!-- Sale Page Section -->
        <section id="sale-page" class="w-full max-w-5xl hidden">
            <div class="bg-white rounded-lg shadow-xl p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Hot Deals!</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                    <!-- Example Sale Item 1 -->
                    <div class="border rounded-lg p-4 text-center">
                        <img src="https://placehold.co/300x200/fecaca/991b1b?text=Sale+Item+1" alt="Sale Item 1" class="w-full rounded-lg mb-4">
                        <p class="font-semibold text-lg text-gray-800">Fancy Gadget</p>
                        <p class="text-gray-500 line-through">499 SEK</p>
                        <p class="text-red-500 font-bold text-xl">299 SEK</p>
                    </div>
                    <!-- Example Sale Item 2 -->
                    <div class="border rounded-lg p-4 text-center">
                        <img src="https://placehold.co/300x200/fecaca/991b1b?text=Sale+Item+2" alt="Sale Item 2" class="w-full rounded-lg mb-4">
                        <p class="font-semibold text-lg text-gray-800">Essential Tool</p>
                        <p class="text-gray-500 line-through">249 SEK</p>
                        <p class="text-red-500 font-bold text-xl">149 SEK</p>
                    </div>
                    <!-- Example Sale Item 3 -->
                    <div class="border rounded-lg p-4 text-center">
                        <img src="https://placehold.co/300x200/fecaca/991b1b?text=Sale+Item+3" alt="Sale Item 3" class="w-full rounded-lg mb-4">
                        <p class="font-semibold text-lg text-gray-800">Premium Accessory</p>
                        <p class="text-gray-500 line-through">799 SEK</p>
                        <p class="text-red-500 font-bold text-xl">599 SEK</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Us Page Section -->
        <section id="contact-us-page" class="w-full max-w-md hidden">
            <div class="bg-white rounded-lg shadow-xl p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Get in Touch</h2>
                <form>
                    <div class="mb-4">
                        <label for="name" class="block text-gray-700 font-semibold mb-2">Your Name</label>
                        <input type="text" id="name" name="name" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    </div>
                    <div class="mb-4">
                        <label for="email" class="block text-gray-700 font-semibold mb-2">Your Email</label>
                        <input type="email" id="email" name="email" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    </div>
                    <div class="mb-6">
                        <label for="message" class="block text-gray-700 font-semibold mb-2">Your Message</label>
                        <textarea id="message" name="message" rows="4" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500"></textarea>
                    </div>
                    <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200">
                        Send Message
                    </button>
                </form>
            </div>
        </section>
    </main>

    <!-- Payment Status Modal -->
    <div id="paymentModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center hidden">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4 text-center">
            <h2 id="modalTitle" class="text-2xl font-bold text-gray-800 mb-4"></h2>
            <p id="modalMessage" class="text-gray-600 mb-6"></p>
            <button id="closeModalButton" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg transition-colors duration-200">
                Close
            </button>
        </div>
    </div>

    <script>
        // Global function to handle page switching
        function showPage(pageId) {
            const sections = document.querySelectorAll('section');
            sections.forEach(section => {
                section.classList.add('hidden');
            });

            const pageToShow = document.getElementById(pageId);
            if (pageToShow) {
                pageToShow.classList.remove('hidden');
            }

            // Update active link styling
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
            });
            const activeLink = document.querySelector(`[onclick="showPage('${pageId}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
        }

        // Get elements for the buy button functionality (existing code)
        const buyButton = document.getElementById('buyButton');
        const paymentModal = document.getElementById('paymentModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalMessage = document.getElementById('modalMessage');
        const closeModalButton = document.getElementById('closeModalButton');

        // Get elements for the new image upload functionality
        const uploadArea = document.getElementById('image-upload-area');
        const fileInput = document.getElementById('fileInput');
        const imagePreviews = document.getElementById('image-previews');
        const uploadButton = document.getElementById('uploadButton');

        let uploadedFiles = [];

        // Function to handle file selection and display previews
        function handleFiles(files) {
            uploadedFiles = Array.from(files);
            imagePreviews.innerHTML = ''; // Clear previous previews

            if (uploadedFiles.length > 0) {
                uploadButton.disabled = false;
                uploadButton.classList.remove('bg-gray-400');
                uploadButton.classList.add('bg-green-600', 'hover:bg-green-700');
            } else {
                uploadButton.disabled = true;
                uploadButton.classList.add('bg-gray-400');
                uploadButton.classList.remove('bg-green-600', 'hover:bg-green-700');
            }

            uploadedFiles.forEach(file => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const imgContainer = document.createElement('div');
                    imgContainer.className = 'w-full h-24 rounded-lg overflow-hidden relative';
                    imgContainer.innerHTML = `<img src="${e.target.result}" class="w-full h-full object-cover">`;
                    imagePreviews.appendChild(imgContainer);
                };
                reader.readAsDataURL(file);
            });
        }

        // Click event to trigger file input
        if (uploadArea) {
            uploadArea.addEventListener('click', () => fileInput.click());
        }
        
        // Change event for the file input
        if (fileInput) {
            fileInput.addEventListener('change', (e) => {
                handleFiles(e.target.files);
            });
        }
        
        // Drag-and-drop events
        if (uploadArea) {
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('drag-over');
            });

            uploadArea.addEventListener('dragleave', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('drag-over');
            });

            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('drag-over');
                handleFiles(e.dataTransfer.files);
            });
        }

        // Event listener for the new Upload Button
        if (uploadButton) {
            uploadButton.addEventListener('click', () => {
                if (uploadedFiles.length === 0) {
                    modalTitle.textContent = 'Upload Failed';
                    modalMessage.textContent = 'Please select at least one image to upload.';
                    paymentModal.classList.remove('hidden');
                    return;
                }

                uploadButton.disabled = true;
                uploadButton.textContent = 'Uploading...';
                uploadButton.classList.remove('bg-green-600', 'hover:bg-green-700');
                uploadButton.classList.add('bg-gray-400');

                setTimeout(() => {
                    modalTitle.textContent = 'Upload Simulated!';
                    modalMessage.textContent = `A real-world application would now be uploading ${uploadedFiles.length} images to a server.`;
                    paymentModal.classList.remove('hidden');
                    
                    uploadedFiles = [];
                    imagePreviews.innerHTML = '';
                    uploadButton.textContent = 'Upload Images';
                    uploadButton.disabled = true;
                    uploadButton.classList.add('bg-gray-400');
                    uploadButton.classList.remove('bg-green-600', 'hover:bg-green-700');
                }, 2000);
            });
        }

        // Event listener for the existing buy button
        if (buyButton) {
            buyButton.addEventListener('click', () => {
                buyButton.disabled = true;
                buyButton.textContent = 'Processing...';
                buyButton.classList.remove('bg-indigo-600', 'hover:bg-indigo-700');
                buyButton.classList.add('bg-indigo-400');

                setTimeout(() => {
                    const simulatedApiResponse = {
                        paymentUrl: 'https://mock-swedbankpay.com/payment-page'
                    };
                    const paymentUrl = simulatedApiResponse.paymentUrl;

                    buyButton.disabled = false;
                    buyButton.textContent = 'Buy Now';
                    buyButton.classList.remove('bg-indigo-400');
                    buyButton.classList.add('bg-indigo-600', 'hover:bg-indigo-700');

                    modalTitle.textContent = 'Payment Redirection';
                    modalMessage.innerHTML = `<p class="mb-4">You are now being redirected to Swedbank Pay's secure payment page to complete your purchase.</p><p>In this demo, you would now be redirected to:</p><a href="${paymentUrl}" class="text-indigo-500 underline" target="_blank">${paymentUrl}</a>`;
                    paymentModal.classList.remove('hidden');

                }, 2000);
            });
        }

        // Close modal button for both functionalities
        if (closeModalButton) {
            closeModalButton.addEventListener('click', () => {
                paymentModal.classList.add('hidden');
            });
        }

        // Initial state for the upload button and first page
        if (uploadButton) {
            uploadButton.disabled = true;
            uploadButton.classList.add('bg-gray-400');
        }

        // Show the initial page on load
        window.onload = () => {
            showPage('home-page');
        };
    </script>
</body>
</html>
